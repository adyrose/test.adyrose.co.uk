{"version":3,"sources":["webpack://roger-atkins/./node_modules/roseworx/js/core/rwxSliders.js"],"names":["rwxSliders","rwxCore","constructor","super","selector","canHaveManualControl","resource","this","defaultAutoSlideTimeout","defaultCounters","execute","el","counters","checkAttributeOrDefault","autoSlide","checkAttributeForBool","autoSlideTimeout","reeling","vertical","rwxSlider","goToSlide","id","slideNumber","validateParameter","IME","getIME","enableCustomEvents","element","slides","children","filter","c","classList","contains","length","currentSlide","counter","direction","autoSlideLoop","bind","declareEvent","createCounter","setToHighest","height","Math","max","map","s","getBoundingClientRect","dotDiv","height2","style","cleanUp","i","transform","display","document","createElement","add","dot","addEventListener","e","next","prev","keyCode","preventDefault","focus","appendChild","push","addElement","stopAnimation","window","requestAnimationFrame","isSlideNumberInRange","number","dontAllowOutOfBounds","slideComplete","slidOut","slidIn","setTimeout","executeEvent","fromAutoLoop","num","percent","removeAttribute","transition","d","remove"],"mappings":"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","file":"js/966.b6dc8cf3.js","sourcesContent":["import { rwxCore, rwxComponent } from '../rwxCore';\n\nclass rwxSliders extends rwxCore {\n\tconstructor()\n\t{\n\t\tsuper({selector:'[rwx-slider]', canHaveManualControl:false, resource: 'rwxSliders'});\n\t\tthis.defaultAutoSlideTimeout = 5;\n\t\tthis.defaultCounters = true;\n\t}\n\n\texecute(el)\n\t{\n\t\tconst counters = this.checkAttributeOrDefault(el, 'data-rwx-slider-counters', this.defaultCounters) === \"true\";\n\t\tconst autoSlide = this.checkAttributeForBool(el, 'data-rwx-slider-auto-slide');\n\t\tconst autoSlideTimeout = this.checkAttributeOrDefault(el, 'data-rwx-slider-auto-slide-timeout', this.defaultAutoSlideTimeout);\n\t\tconst reeling = this.checkAttributeForBool(el, 'data-rwx-slider-reeling');\n\t\tconst vertical = this.checkAttributeForBool(el, 'data-rwx-slider-vertical');\n\t \treturn new rwxSlider(el, vertical, autoSlide, counters, reeling, autoSlideTimeout);\n\t}\n\n\tgoToSlide(id, slideNumber)\n\t{\n\t\tif(!this.validateParameter(slideNumber, 'number', 'goToSlide'))return;\n\t\tconst IME = this.getIME(id);\n\t\tIME && IME.goToSlide(slideNumber);\t\t\n\t}\n\n}\n\nclass rwxSlider extends rwxComponent {\n\tconstructor(el, vertical, autoSlide, counters, reeling, autoSlideTimeout)\n\t{\n\t\tsuper({enableCustomEvents: true, element:el});\n\t\tthis.slides = [...el.children].filter((c)=>c.classList.contains('rwx-slider-slide'));\n\t\tif(this.slides.length == 0)return;\n\t\tthis.reeling = reeling;\n\t\tthis.currentSlide = 1;\n\t\tthis.autoSlide = autoSlide;\n\t\tthis.counter = 0;\n\t\tthis.direction = vertical ? \"Y\" : \"X\";\n\t\tthis.autoSlideLoop = this.autoSlideLoop.bind(this);\n\t\tthis.autoSlideTimeout = autoSlideTimeout * 60;\n\n\t\tthis.declareEvent('slideShow');\n\t\tthis.declareEvent('slideHide');\n\n\t\tautoSlide && this.autoSlideLoop();\n\t\tcounters && this.createCounter();\n\t\tvertical && this.setToHighest();\n\t}\n\n\tsetToHighest()\n\t{\n\t\tlet height = Math.max(...this.slides.map((s)=>s.getBoundingClientRect().height));\n\t\tif(this.dotDiv)\n\t\t{\n\t\t\tconst height2 = this.dotDiv.getBoundingClientRect().height;\n\t\t\tif(height2 > height) { height = height2;}\n\t\t\tthis.slides.map((s)=>s.style.height = height + \"px\")\n\t\t}\n\t\tthis.el.style.height = height+ \"px\";\n\t}\n\n\tcleanUp()\n\t{\n\t\tthis.slides.map((s, i)=>{\n\t\t\ts.style.transform = '';\n\t\t\ts.style.display = '';\n\t\t})\n\t}\n\n\tcreateCounter()\n\t{\n\t\tthis.counters = [];\n\t\tthis.dotDiv = document.createElement('div');\n\t\tthis.dotDiv.classList.add('rwx-slider-counters');\n\t\tthis.slides.map((s,i) => {\n\t\t\tlet dot = document.createElement('button');\n\t\t\tdot.classList.add('rwx-slider-counters-counter');\n\t\t\tdot.classList.add('no-decoration');\n\t\t\t(this.currentSlide == i+1) && dot.classList.add('active');\n\t\t\tdot.addEventListener('click', ()=>{if(i+1 == this.currentSlide)return; this.goToSlide(i+1); this.counter=0;});\n\t\t\tdot.addEventListener('keyup', (e)=>{\n\t\t\t\tlet next = this.direction == \"Y\" ? 40 : 39;\n\t\t\t\tlet prev = this.direction == \"Y\" ? 38 : 37;\n\t\t\t\tif(e.keyCode == next) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tthis.counters[i+1 == this.slides.length ? 0 : i+1].focus();\n\t\t\t\t}\n\t\t\t\telse if (e.keyCode == prev) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tthis.counters[i == 0 ? this.slides.length-1 : i-1].focus();\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.dotDiv.appendChild(dot);\n\t\t\tthis.counters.push(dot);\n\t\t\treturn;\n\t\t});\n\t\tthis.addElement(this.el, this.dotDiv);\n\t}\n\n\tautoSlideLoop()\n\t{\n\t\tif(this.stopAnimation){return;}\n\t\tif(this.counter >= this.autoSlideTimeout)\n\t\t{\n\t\t\tthis.goToSlide(this.currentSlide+1, true);\n\t\t\tthis.counter = 0;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.counter+=1;\n\t\t}\n\t\twindow.requestAnimationFrame(this.autoSlideLoop);\n\t}\n\n\tisSlideNumberInRange(number, dontAllowOutOfBounds)\n\t{\n\t\treturn (number > this.slides.length || number < 0) ? dontAllowOutOfBounds ? 1 : false : number;\n\t}\n\n\tslideComplete(slidOut, slidIn)\n\t{\n\t\t//the CSS transition takes 0.7 seconds , no way to know when complete unless using timeout\n\t\tsetTimeout(()=>{\n\t\t\tthis.executeEvent('slideShow', slidIn);\n\t\t\tthis.executeEvent('slideHide', slidOut);\n\t\t}, 700);\n\t}\n\n\tgoToSlide(number, fromAutoLoop=false)\n\t{\n\n\t\tlet num = this.isSlideNumberInRange(number, fromAutoLoop);\n\t\tif(!num)return;\n\t\tif(this.reeling)\n\t\t{\n\t\t\tthis.slides.map((s)=>window.requestAnimationFrame(()=>{\n\t\t\t\ts.style.transform = `translate${this.direction}(-${(num-1)*100}%)`;\n\t\t\t}));\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.slides.map((s,i)=>{\n\t\t\t\tlet slideNumber = i+1;\n\t\t\t\tlet percent = num > this.currentSlide ? \"-100\" : \"0\";\n\t\t\t\ts.removeAttribute('style');\n\t\t\t\tif(slideNumber != this.currentSlide && slideNumber != num)\n\t\t\t\t{\n\t\t\t\t\ts.style.display = \"none\";\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\ts.style.transition = \"none\";\n\t\t\t\t\tif(num < this.currentSlide && (slideNumber == num || this.currentSlide == slideNumber))\n\t\t\t\t\t{\n\t\t\t\t\t\ts.style.transform = `translate${this.direction}(-100%)`;\n\t\t\t\t\t}\n\n\t\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\t\ts.removeAttribute(\"style\");\n\t\t\t\t\t\ts.style.transform = `translate${this.direction}(${percent}%)`;\n\t\t\t\t\t}, 33);\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t});\n\t\t}\n\t\tthis.counters && this.counters.map((d,i)=>(i==(num-1) ? d.classList.add('active') : d.classList.remove('active')));\n\t\tthis.slideComplete(this.currentSlide, num);\n\t\tthis.currentSlide = num;\n\t}\n}\n\nexport default new rwxSliders();"],"sourceRoot":""}